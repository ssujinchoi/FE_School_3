<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>쇼핑몰 만들기</title>
    </head>
    <body>
        <div id="root"></div>
        <script
            src="https://unpkg.com/react@17/umd/react.development.js"
            crossorigin
        ></script>
        <script
            src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"
            crossorigin
        ></script>
        <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
        <script type="text/babel">
            const productData = [
                {
                    id: 1,
                    productName:
                        "버그를 Java라 버그잡는 개리씨 키링 개발자키링 금속키링",
                    price: 12500,
                    stockCount: 100,
                    thumbnailImg: "asset/img/1/thumbnailImg.jpg",
                    option: [],
                    discountRate: 0,
                    shippingFee: 1500,
                    detailInfoImage: [
                        "asset/detail/2/detail1.png",
                        "asset/detail/2/detail2.png",
                    ],
                    viewCount: 0,
                    pubDate: "2022-02-28",
                    modDate: "2022-02-28",
                },
                {
                    id: 2,
                    productName: "우당탕탕 라이캣의 실험실 스티커 팩",
                    price: 3500,
                    stockCount: 1000,
                    thumbnailImg: "asset/img/2/thumbnailImg.jpg",
                    option: [],
                    discountRate: 0,
                    shippingFee: 1500,
                    detailInfoImage: [
                        "asset/detail/2/detail1.png",
                        "asset/detail/2/detail2.png",
                    ],
                    viewCount: 0,
                    pubDate: "2022-02-28",
                    modDate: "2022-02-28",
                },
                {
                    id: 3,
                    productName: "딥러닝 개발자 무릎 담요",
                    price: 17500,
                    stockCount: 0,
                    thumbnailImg: "asset/img/3/thumbnailImg.jpg",
                    option: [],
                    discountRate: 0,
                    shippingFee: 1500,
                    detailInfoImage: [
                        "asset/detail/3/detail1.png",
                        "asset/detail/3/detail2.png",
                        "asset/detail/3/detail3.png",
                    ],
                    viewCount: 0,
                    pubDate: "2022-02-28",
                    modDate: "2022-02-28",
                },
                {
                    id: 4,
                    productName: "네 개발잡니다 개발자키링 금속키링",
                    price: 13500,
                    stockCount: 100,
                    thumbnailImg: "asset/img/4/thumbnailImg.jpg",
                    option: [],
                    discountRate: 0,
                    shippingFee: 1500,
                    detailInfoImage: [
                        "asset/detail/4/detail1.png",
                        "asset/detail/4/detail2.png",
                    ],
                    viewCount: 0,
                    pubDate: "2022-02-28",
                    modDate: "2022-02-28",
                },
                {
                    id: 5,
                    productName: "Hack Your Life 개발자 노트북 파우치",
                    price: 36000,
                    stockCount: 230,
                    thumbnailImg: "asset/img/5/thumbnailImg.jpg",
                    option: [
                        {
                            id: 1,
                            optionName: "13인치",
                            additionalFee: 0,
                        },
                        {
                            id: 2,
                            optionName: "15인치",
                            additionalFee: 1000,
                        },
                    ],
                    discountRate: 19,
                    shippingFee: 1500,
                    detailInfoImage: [
                        "asset/detail/5/detail1.png",
                        "asset/detail/5/detail2.png",
                    ],
                    viewCount: 0,
                    pubDate: "2022-02-28",
                    modDate: "2022-02-28",
                },
                {
                    id: 6,
                    productName: "[NEW] 위니브 개발자, 캐릭터 스티커팩 2종",
                    price: 5500,
                    stockCount: 1000,
                    thumbnailImg: "asset/img/6/thumbnailImg.jpg",
                    option: [
                        {
                            id: 1,
                            optionName: "위니브 개발자 스티커팩",
                            additionalFee: 0,
                        },
                        {
                            id: 2,
                            optionName: "위니브 프랜즈 스티커팩",
                            additionalFee: 0,
                        },
                        {
                            id: 3,
                            optionName: "스티커팩 세트(개발자+프렌즈)",
                            additionalFee: 5000,
                        },
                    ],
                    discountRate: 0,
                    shippingFee: 1500,
                    detailInfoImage: [
                        "asset/detail/6/detail1.png",
                        "asset/detail/6/detail2.png",
                        "asset/detail/6/detail3.png",
                        "asset/detail/6/detail4.png",
                        "asset/detail/6/detail5.png",
                    ],
                    viewCount: 0,
                    pubDate: "2022-02-28",
                    modDate: "2022-02-28",
                },
                {
                    id: 7,
                    productName: "제주코딩베이스캠프 코딩 연습장 세트",
                    price: 8000,
                    stockCount: 1000,
                    thumbnailImg: "asset/img/7/thumbnailImg.jpg",
                    option: [],
                    discountRate: 0,
                    shippingFee: 1500,
                    detailInfoImage: [
                        "asset/detail/7/detail1.png",
                        "asset/detail/7/detail2.png",
                    ],
                    viewCount: 0,
                    pubDate: "2022-02-28",
                    modDate: "2022-02-28",
                },
            ];

            // step 1
            // function ProductList() {
            //     // 비동기 모듈
            //     console.log(productData);
            //     return (
            //         <ul>
            //             {[
            //                 <ProductInfo item={productData[0]} />,
            //                 <ProductInfo item={productData[1]} />,
            //                 <ProductInfo item={productData[2]} />,
            //                 <ProductInfo item={productData[3]} />,
            //                 <ProductInfo item={productData[4]} />,
            //                 <ProductInfo item={productData[5]} />,
            //             ]}
            //         </ul>
            //     );
            // }

            // step 2 - forEach사용
            //function ProductList() {
            //     let result = [];
            //     productData.forEach((el) => {
            //        // key - 각 리스트를 구분할 key값이 필요하다.
            //        // why? - Virtual Dom사용이유: 많은 아이템을 로드하려면 Dom은 헤비할 수 있다.
            //        //dom은 수정 시에 트리를 다시 그리는데 virtaul dom은 key값으로 변경된 사항만 다시 그림
            //        result.push(<ProductInfo item={el} key={el.id} />);
            //    });
            //    return <ul>{result}</ul>;
            //}

            // step 3 - map사용
            function ProductList() {
                return (
                    <ul>
                        {productData.filter(v => v.price <= 10000).map((el) => (
                            <ProductInfo item={el} key={el.id} />
                        ))}
                    </ul>
                );
            }

            function ProductInfo(props) {
                // ProductInfo({item})
                //console.log(props.item);
                return (
                    <li>
                        <img
                            src={
                                "http://test.api.weniv.co.kr/" +
                                props.item["thumbnailImg"]
                            }
                            alt=""
                        />
                        <p>{props.item["productName"]}</p>
                        <p>하트</p>
                        <p>{props.item["price"]}</p>
                    </li>
                );
            }

            function ShoppingCart() {
                return <p>쇼핑카드</p>;
            }

            const app = (
                <main>
                    <ProductList />
                    <ShoppingCart />
                </main>
            );

            const domContainer = document.querySelector("#root");
            ReactDOM.render(app, domContainer);
        </script>
    </body>
</html>